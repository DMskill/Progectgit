# Reflection

## Что удалось
- Устойчивый локальный запуск: фронт/бэк/БД через docker compose.
- Исправлены сетевые проблемы фронта (localhost в контейнере) без ломки кода; внедрён прокси `/api`.
- Контентные улучшения: i18n hero, блоки FAQ/безопасность, комиссии, CTA.
- Пагинация: 50/стр, счётчик и серверная интеграция с безопасным фолбэком.
- SEO/служебные страницы (robots, sitemap, Terms/Privacy), футер.
- Индексы БД и `/health` для мониторинга; CI (lint/types/tests, docker build).
- Настроен Cloudflare Registrar/DNS, сформирован план прод‑деплоя.

## Сложности
- Несоответствие адресов внутри контейнера (`localhost`) → решено прокси и правкой CSP.
- Синхронизация UX тестов с текущим поведением (фильтры без навигации) → поправлены e2e.
- Совмещение клиентской и серверной пагинации → добавлен фолбэк, чтобы не блокировать фронт.

## Уроки/улучшения
- Дефолт к `/api` + rewrites в Next — надёжнее, чем хардкод адресов.
- Добавление фолбэков на фронте позволяет выпускать частями (бэк можно обновить позже).
- Индексы по фильтрам заранее заметно снизят риски при первом трафике.

## Что дальше
- Дождаться IPv4 сервера, настроить DNS/SSL/редиректы в Cloudflare и развернуть prod.
- SMTP/почта (Resend/Postmark) и мониторинг (Sentry/uptime) сразу после запуска.
- (Опционально) серверная пагинация ответов бэка на основном `/listings` (или завершить новый `/listings/paged`). 